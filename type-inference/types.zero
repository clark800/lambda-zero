#* types.zero

define newMetaVariable(tag, variables)
    (address, variables') := variables.append(Void)
    (MetaVariable(tag, address), variables')


newMetaVariables(originals, variables) :=
    originals.map(getTermTag).cascadeMap(newMetaVariable, variables)


newRenaming(mappings) := newTable((<=), mappings)


define rename(renaming, type)
    with type as MetaVariable(_, address)
        renaming.lookup(address) ?? type
    type.mapComponents(rename(renaming))

#*
